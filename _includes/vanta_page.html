<!-- _includes/vanta_page.html -->
<div id="vanta-page-bg" aria-hidden="true"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
<script>
  (function () {
    // reduced motion
    const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (reduce) return;

    const isMobile = window.matchMedia('(max-width: 768px)').matches;
    window.__vanta = VANTA.NET({
      el: "#vanta-page-bg",
      mouseControls: true,
      touchControls: true,
      gyroControls: false,
      minHeight: 200.00,
      minWidth: 200.00,
      scale: 1.00,
      scaleMobile: 1.00,
      color: 0x00d539,          // accent-ish
      backgroundColor: 0x000000,
      points: isMobile ? 6 : 10,
      maxDistance: isMobile ? 15 : 20,
      spacing: isMobile ? 18 : 15,
      showDots: true
    });

    // clean up if page unloads 
    window.addEventListener('beforeunload', function () {
      if (window.__vanta && window.__vanta.destroy) window.__vanta.destroy();
    });
  })();
</script>
